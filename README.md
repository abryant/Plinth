## Plinth

This project aims to implement a new programming language called "Plinth".

There is not yet much documentation on the syntax and semantics of the language, but more will be made available when more of the core language features have been implemented.

### Instructions

You will need: Java (JDK) >= 1.5, LLVM 3.2, and optionally GCC (for compilation to native code)

To run the compiler, you will need an LLVM shared library to be installed. The version it requires has not yet been released, so it must be built from the LLVM source repository (revision 164247 or later). Specifically, it looks for "LLVM-3.2svn" (libLLVM-3.2svn.so on Linux).

To compile the compiler:

    src$ javac -d ../bin -cp ../lib/jna.jar:. **/*.java

To run:

    bin$ java -cp ../lib/jna.jar:. eu.bryants.anthony.plinth.compiler.Compiler -d /path/to/output/folder /path/to/source.pth /path/to/source2.pth

To link several of the resulting LLVM bitcode files together into a full program:

    llvm-link MyClass.pbc Test.pbc string.pbc stdout.pbc stderr.pbc plinth-lib/io.ll -o binary.pbc

`string.pbc`, `stdout.pbc`, and `stderr.pbc` are the results of compiling the respective files in plinth-src, and `plinth-lib/io.ll` is an LLVM assembly file needed to access some I/O functions including stdout.

To generate an executable from the linked bitcode:

    llc binary.pbc -o binary.s
    gcc binary.s -o binary

To run your program and check the result:

    ./binary
    echo $?

Alternatively, you can run the LLVM bitcode generated by the compiler directly via the LLVM interpreter:

    lli binary.pbc
    echo $?

