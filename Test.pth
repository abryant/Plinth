package foo.bar;

class Test
{
  static uint main([]string args) throws Error
  {
    LinkedList<string> list = new LinkedList<string>();
    for (uint i = 0; i < args.length; ++i)
    {
      list.add(args[i]);
    }

    while true
    {
      stdout::print("> ");
      string line;
      try
      {
        line = stdin::readLine().trim();
      }
      catch EOFException e
      {
        stdout::println();
        stdout::println("End of input reached - exiting...");
        break;
      }
      if line.startsWith("add ")
      {
        string item = line.substring(4);
        stdout::println("Adding: " + item);
        list.add(item);
      }
      else if line.equals("print")
      {
        Iterator<string> it = list.getIterator();
        while it.hasNext()
        {
          stdout::println(it.next());
        }
      }
      else if line.startsWith("remove")
      {
        uint index = line.substring(6).trim().length;
        stdout::println("Removing: " + index);
        list.remove(index);
      }
      else if line.equals("size")
      {
        stdout::println("List size: " + list.length);
      }
      else
      {
        stdout::println("Unknown operation!");
      }
    }

    return 0;
  }
}
